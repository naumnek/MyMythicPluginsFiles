DesertSpider:
  Type: SPIDER
  Display: '&9Покровитель Пустыни'
  Health: 3000
  Damage: 100
  Modules:
    ThreatTable: true
  Faction: Spiders
  AITargetSelectors:
  - clear
  - players
  - specificfactionmonsters Summon
  - specificfactionmonsters Undead
  - hurtbytarget
  AIGoalSelectors:
  - 0 clear 
  - 1 meleeattack
  - 2 lookatplayers
  Skills:
# --- ATTACKS ---
  - skill{s=DesertSpider-Attack} @target 0.3 ~onTimer:20
  - skill{s=DesertSpider-Attack} @target ~onChangeTarget
# --- SKILLS ---  
  - skill{s=DesertSpider-Teleport} ~onDamaged
  - skill{s=DesertArea} @PlayersInRadius{r=3} ~onAttack
# --- PASSIVE ---
  - heal{a=50} @self ~onTimer:120 
# --- SUMMONS ---
  - skill{s=DesertGuard-Summon} @PlayersInRadius{r=64;limit=3;sort=NEAREST;ignore=creative,spectators} ~onTimer:20
# --- ACTIONS ---
  - skill{s=DesertSpiderMark} ~onDamaged
  - skill{s=HellOfSend} 0.5 ~onTimer:50
# --- PARTICLES ---
  - effect:particleorbital{particle=reddust;size=0.8;color=#838b8b;amount=6;points=16;an=2;hs=0.1;vs=0.2;size=1;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=0.7;reverse=true} @self ~onTimer:120
  - effect:particleorbital{particle=reddust;size=0.8;color=#b45f06;amount=6;points=16;an=2;hs=0.1;vs=0.2;size=1;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=0.7} @self ~onTimer:120
#  
  Drops:  
  - experience 200-300
  - DesertSpiderDrops
  DamageModifiers: 
  - CUSTOM 0.5
  - ENTITY_ATTACK 0.2
  - PROJECTILE 0.4
  - MAGIC 0.5
  - WITHER 0
  - FALL 0
  - FIRE 2
  - POISON 0
  - DROWNING 0
  - BLOCK_EXPLOSION 0
  - ENTITY_EXPLOSION 0
  - FALLING_BLOCK 0   
  Options:
    PassthroughDamage: true
    Despawn: false
    KnockbackResistance: 10
    PreventRandomEquipment: true  
    PreventSunburn: true  
    MovementSpeed: 0.24
    PreventOtherDrops: true
    MaxCombatDistance: 24
    FollowRange: 64      
    RepeatAllSkills: true    
# --- SUMMONS ---    
DesertGuard:
  Type: SPIDER
  Display: '&3Пустынный Защитник'
  Health: 1500
  Damage: 40  
  Modules:
    ThreatTable: true
  Faction: Spiders
  Skills:
# --- ATTACKS ---
  - skill{s=DesertGuard-Attack} @NearestPlayer{r=16;ignore=creative,spectators} ~onSpawn
  - skill{s=DesertGuard-Attack} @NearestPlayer{r=16;ignore=creative,spectators} 0.6 ~onTimer:60
  - potion{type=SLOW;duration=60;level=1} ~OnAttack 0.9
# --- SKILLS ---  
# --- PASSIVE ---
  - skill{s=DesertSlash} ~onSpawn
  - skill{s=DesertSlash} 0.5 ~onTimer:100
  - heal{a=10} @self ~onTimer:100 
  - heal{a=20} @Owner ~onTimer:100 
  - threat{amount=10000} @NearestPlayer{r=32;ignore=creative,spectators} ~onTimer:100 
# --- ACTIONS ---
  - remove{} @Children ~onDeath  
# --- PARTICLES ---
  - effect:particleorbital{particle=reddust;size=0.8;color=#b45f06;amount=4;points=16;an=2;hs=0.1;vs=0.1;size=0.8;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=1;rotX=0.5} @self ~onSpawn
  - effect:particleorbital{particle=reddust;size=0.8;color=#b45f06;amount=4;points=16;an=2;hs=0.1;vs=0.1;size=0.8;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=1;rotX=-0.5} @self ~onSpawn
  - effect:particleorbital{particle=reddust;size=0.8;color=#b45f06;amount=6;points=16;an=2;hs=0.1;vs=0.1;size=0.8;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=1;rotX=0.5} @self ~onTimer:120
  - effect:particleorbital{particle=reddust;size=0.8;color=#b45f06;amount=6;points=16;an=2;hs=0.1;vs=0.1;size=0.8;y=2;ticks=120;in=2;rx=0;ry=0;r=1;y=1;rotX=-0.5} @self ~onTimer:120
  - effect:particles{particle=reddust;size=1.2;color=#838b8b;amount=8;hS=0.2;vS=0.1;speed=0.006;vd=32;y=1} @self ~onTimer:1 
#
  AIGoalSelectors:
  - 0 clear 
  - 1 meleeattack
  - 2 gotoparent 16
  - 3 lookatplayers
  - 4 randomstroll
  AITargetSelectors:
  - clear
  - players
  - specificfactionmonsters Summon
  - specificfactionmonsters Undead
  - hurtbytarget
  DamageModifiers: 
  - CUSTOM 0.9
  - ENTITY_ATTACK 0.8
  - PROJECTILE 0.8
  - MAGIC 0.9
  - WITHER 0
  - FALL 0
  - FIRE 2
  - POISON 0
  - DROWNING 0
  - BLOCK_EXPLOSION 0
  - ENTITY_EXPLOSION 0
  - FALLING_BLOCK 0  
  Options:
    ApplyInvisibility: true  
    Despawn: false
    KnockbackResistance: 10
    PreventRandomEquipment: true  
    PreventSunburn: true  
    MovementSpeed: 0.001
    PreventOtherDrops: true
    MaxCombatDistance: 24
    FollowRange: 64